"use strict";(self.webpackChunkatips=self.webpackChunkatips||[]).push([[1106],{7418:(a,s,n)=>{n.r(s),n.d(s,{data:()=>e});const e={key:"v-b22cf5ca",path:"/database/nosql-elasticsearch/elasticsearch-install.html",title:"ES安装 - ElasticSearch和Kibana安装",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"官网相关教程",slug:"官网相关教程",children:[]},{level:2,title:"安装ElasticSearch",slug:"安装elasticsearch",children:[{level:3,title:"安装",slug:"安装",children:[]},{level:3,title:"启动",slug:"启动",children:[]}]},{level:2,title:"安装Kibana",slug:"安装kibana",children:[{level:3,title:"安装",slug:"安装-1",children:[]},{level:3,title:"配置运行",slug:"配置运行",children:[]},{level:3,title:"控制台",slug:"控制台",children:[]}]}],filePathRelative:"database/nosql-elasticsearch/elasticsearch-install.md",git:{updatedTime:1719836412e3,contributors:[{name:"Tianci.Xiong",email:"tiancixiong@163.com",commits:2},{name:"TianCi.Xiong",email:"tiancixiong@163.com",commits:1}]}}},6300:(a,s,n)=>{n.r(s),n.d(s,{default:()=>N});var e=n(6252);const t=(0,e._)("h1",{id:"es安装-elasticsearch和kibana安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#es安装-elasticsearch和kibana安装","aria-hidden":"true"},"#"),(0,e.Uk)(" ES安装 - ElasticSearch和Kibana安装")],-1),c=(0,e._)("h2",{id:"官网相关教程",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#官网相关教程","aria-hidden":"true"},"#"),(0,e.Uk)(" 官网相关教程")],-1),l={href:"https://www.elastic.co/cn/",target:"_blank",rel:"noopener noreferrer"},p=(0,e.Uk)("官方网站 (opens new window)"),o={href:"https://www.elastic.co/guide/cn/elasticsearch/guide/current/running-elasticsearch.html",target:"_blank",rel:"noopener noreferrer"},i=(0,e.Uk)("官方2.x中文教程中安装教程 (opens new window)"),r={href:"https://www.elastic.co/cn/downloads/elasticsearch",target:"_blank",rel:"noopener noreferrer"},u=(0,e.Uk)("官方ElasticSearch下载地址 (opens new window)"),b={href:"https://www.elastic.co/cn/downloads/kibana",target:"_blank",rel:"noopener noreferrer"},m=(0,e.Uk)("官方Kibana下载地址 (opens new window)"),d=(0,e.uE)('<p>本系列文章内容基于 Centos 7 + ElasticSearch 7.x 版本。</p><h2 id="安装elasticsearch" tabindex="-1"><a class="header-anchor" href="#安装elasticsearch" aria-hidden="true">#</a> 安装ElasticSearch</h2><blockquote><p>ElasticSearch 是基于 Java 平台的，所以先要安装 Java，注意要保证环境变量 <code>JAVA_HOME</code> 正确设置。</p></blockquote><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><ul><li><strong>下载ElasticSearch</strong></li></ul>',5),h=(0,e.Uk)("安装完 Java，就可以跟着"),k={href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/zip-targz.html",target:"_blank",rel:"noopener noreferrer"},g=(0,e.Uk)("官方文档"),v=(0,e.Uk)("安装 Elastic。从"),x={href:"https://www.elastic.co/cn/downloads/elasticsearch",target:"_blank",rel:"noopener noreferrer"},E=(0,e.Uk)("这里"),w=(0,e.Uk)("下载ElasticSearch。直接下载压缩包比较简单："),q=(0,e.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">wget</span> https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.12.0-linux-x86_64.tar.gz\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><strong>解压</strong></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">tar</span> zxvf elasticsearch-7.12.0-linux-x86_64.tar.gz\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><strong>增加elasticSearch用户</strong></li></ul><p>必须创建一个<strong>非root</strong>用户来运行 ElasticSearch（ElasticSearch5及以上版本，基于安全考虑，强制规定不能以root身份运行）。</p><p>如果你使用 root 用户来启动 ElasticSearch，则会有如下错误信息：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># ./bin/elasticsearch</span>\n<span class="token punctuation">[</span><span class="token number">2021</span>-11-05T16:16:03,174<span class="token punctuation">]</span><span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span><span class="token punctuation">[</span>o.e.b.ElasticsearchUncaughtExceptionHandler<span class="token punctuation">]</span> <span class="token punctuation">[</span>localhost.localdomain<span class="token punctuation">]</span> uncaught exception <span class="token keyword">in</span> thread <span class="token punctuation">[</span>main<span class="token punctuation">]</span>\norg.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Elasticsearch.init<span class="token punctuation">(</span>Elasticsearch.java:163<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute<span class="token punctuation">(</span>Elasticsearch.java:150<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute<span class="token punctuation">(</span>EnvironmentAwareCommand.java:75<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling<span class="token punctuation">(</span>Command.java:116<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-cli-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.cli.Command.main<span class="token punctuation">(</span>Command.java:79<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-cli-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.main<span class="token punctuation">(</span>Elasticsearch.java:115<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.main<span class="token punctuation">(</span>Elasticsearch.java:81<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\nCaused by: java.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives<span class="token punctuation">(</span>Bootstrap.java:101<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Bootstrap.setup<span class="token punctuation">(</span>Bootstrap.java:168<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Bootstrap.init<span class="token punctuation">(</span>Bootstrap.java:397<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.init<span class="token punctuation">(</span>Elasticsearch.java:159<span class="token punctuation">)</span> ~<span class="token punctuation">[</span>elasticsearch-7.12.0.jar:7.12.0<span class="token punctuation">]</span>\n\t<span class="token punctuation">..</span>. <span class="token number">6</span> <span class="token function">more</span>\nuncaught exception <span class="token keyword">in</span> thread <span class="token punctuation">[</span>main<span class="token punctuation">]</span>\njava.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives<span class="token punctuation">(</span>Bootstrap.java:101<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Bootstrap.setup<span class="token punctuation">(</span>Bootstrap.java:168<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Bootstrap.init<span class="token punctuation">(</span>Bootstrap.java:397<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.init<span class="token punctuation">(</span>Elasticsearch.java:159<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute<span class="token punctuation">(</span>Elasticsearch.java:150<span class="token punctuation">)</span>\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute<span class="token punctuation">(</span>EnvironmentAwareCommand.java:75<span class="token punctuation">)</span>\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling<span class="token punctuation">(</span>Command.java:116<span class="token punctuation">)</span>\n\tat org.elasticsearch.cli.Command.main<span class="token punctuation">(</span>Command.java:79<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.main<span class="token punctuation">(</span>Elasticsearch.java:115<span class="token punctuation">)</span>\n\tat org.elasticsearch.bootstrap.Elasticsearch.main<span class="token punctuation">(</span>Elasticsearch.java:81<span class="token punctuation">)</span>\nFor complete error details, refer to the log at /mydata/elasticsearch-7.12.0/logs/elasticsearch.log\n<span class="token number">2021</span>-11-05 08:16:03,579190 UTC <span class="token punctuation">[</span><span class="token number">2841</span><span class="token punctuation">]</span> INFO  Main.cc@106 Parent process died - ML controller exiting\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>所以我们增加一个独立的elasticsearch用户来运行：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 增加elasticsearch用户</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># useradd elasticsearch</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># passwd elasticsearch</span>\n更改用户 elasticsearch 的密码 。\n新的 密码：\n无效的密码： 密码少于 <span class="token number">8</span> 个字符\n重新输入新的 密码：\npasswd：所有的身份验证令牌已经成功更新。\n\n<span class="token comment"># 修改目录权限至新增的elasticsearch用户</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># chown -R elasticsearch /mydata/elasticsearch-7.12.0</span>\n\n<span class="token comment"># 增加data和log存放区，并赋予elasticsearch用户权限</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># mkdir -p /data/es</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># chown -R elasticsearch /data/es/</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># mkdir -p /var/log/es</span>\n<span class="token punctuation">[</span>root@localhost elasticsearch-7.12.0<span class="token punctuation">]</span><span class="token comment"># chown -R elasticsearch /var/log/es/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>然后将上述的 data 和 log 路径配置到es中，使用 <code>vi /mydata/elasticsearch-7.12.0/config/elasticsearch.yml </code> 命令修改es配置文件：</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>\n<span class="token comment"># ----------------------------------- Paths ------------------------------------</span>\n<span class="token comment">#</span>\n<span class="token comment"># Path to directory where to store the data (separate multiple locations by comma):</span>\n<span class="token comment">#</span>\n<span class="token key atrule">path.data</span><span class="token punctuation">:</span> /data/es\n<span class="token comment">#</span>\n<span class="token comment"># Path to log files:</span>\n<span class="token comment">#</span>\n<span class="token key atrule">path.logs</span><span class="token punctuation">:</span> /var/log/es\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong>修改Linux系统的限制配置</strong></li></ul><ol><li>修改系统中允许应用最多创建多少文件等的限制权限。Linux默认来说，一般限制应用最多创建的文件是65535个。但是ES至少需要65536的文件创建权限。</li><li>修改系统中允许用户启动的进程开启多少个线程。默认的Linux限制root用户开启的进程可以开启任意数量的线程，其他用户开启的进程可以开启1024个线程。必须修改限制数为4096+。因为ES至少需要4096的线程池预备。ES在5.x版本之后，强制要求在linux中不能使用root用户启动ES进程。所以必须使用其他用户启动ES进程才可以。</li><li>Linux低版本内核为线程分配的内存是128K。4.x版本的内核分配的内存更大。如果虚拟机的内存是1G，最多只能开启3000+个线程数。至少为虚拟机分配1.5G以上的内存。</li></ol><p>修改如下配置：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ vi /etc/security/limits.conf\n\n# 在文件末尾添加下面几行配置\nelasticsearch soft nofile 65536\nelasticsearch hard nofile 65536\nelasticsearch soft nproc 4096\nelasticsearch hard nproc 4096\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h3><ul><li><strong>启动ElasticSearch</strong></li></ul><p>接着，切换到非root用户，进入解压后的目录，运行下面的命令，启动 Elastic：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">su</span> elasticsearch\n$ <span class="token builtin class-name">cd</span> /mydata/elasticsearch-7.12.0\n$ ./bin/elasticsearch\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>查看启动是否成功</strong></li></ul><p>如果一切正常，Elastic 就会在默认的 <strong>9200</strong> 端口运行。这时，打开另一个命令行窗口，请求该端口，会得到说明信息：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> localhost:9200\n\n<span class="token punctuation">{</span>\n  <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;localhost.localdomain&quot;</span>,\n  <span class="token string">&quot;cluster_name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;elasticsearch&quot;</span>,\n  <span class="token string">&quot;cluster_uuid&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;zrjRDKbqTjaUOTStAudyKQ&quot;</span>,\n  <span class="token string">&quot;version&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&quot;number&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;7.12.0&quot;</span>,\n    <span class="token string">&quot;build_flavor&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,\n    <span class="token string">&quot;build_type&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;tar&quot;</span>,\n    <span class="token string">&quot;build_hash&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;78722783c38caa25a70982b5b042074cde5d3b3a&quot;</span>,\n    <span class="token string">&quot;build_date&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;2021-03-18T06:17:15.410153305Z&quot;</span>,\n    <span class="token string">&quot;build_snapshot&quot;</span> <span class="token builtin class-name">:</span> false,\n    <span class="token string">&quot;lucene_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;8.8.0&quot;</span>,\n    <span class="token string">&quot;minimum_wire_compatibility_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;6.8.0&quot;</span>,\n    <span class="token string">&quot;minimum_index_compatibility_version&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;6.0.0-beta1&quot;</span>\n  <span class="token punctuation">}</span>,\n  <span class="token string">&quot;tagline&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;You Know, for Search&quot;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>上面代码中，请求9200端口，Elastic 返回一个 JSON 对象，包含当前节点、集群、版本等信息。</p><p>按下 <code>Ctrl + C</code>，Elastic 就会停止运行。可以通过 <code>./bin/elasticsearch -d</code> 命令后台启动。</p><p>默认情况下，Elastic 只允许本机访问，如果需要远程访问，可以修改 Elastic 安装目录的<code>config/elasticsearch.yml</code> 文件，去掉 <code>network.host</code> 的注释，将它的值改成<code>0.0.0.0</code>，然后重新启动 Elastic。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>network.host: 0.0.0.0\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">提醒</p><p>上面代码中，设成 <code>0.0.0.0</code> 会让任何人都可以访问。线上服务不要这样设置，要设成具体的 IP。</p></div><h4 id="错误" tabindex="-1"><a class="header-anchor" href="#错误" aria-hidden="true">#</a> 错误</h4>',28),f=(0,e.Uk)("错误1：如果这时"),_={href:"https://github.com/spujadas/elk-docker/issues/92",target:"_blank",rel:"noopener noreferrer"},j=(0,e.Uk)("报错"),y=(0,e.Uk)(),S=(0,e._)("code",null,"max virtual memory areas vm.max*map*count [65530] is too low",-1),U=(0,e.Uk)("，要运行下面的命令："),C=(0,e.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> sysctl -w vm.max_map_count<span class="token operator">=</span><span class="token number">262144</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>错误2：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>the default discovery settings are unsuitable <span class="token keyword">for</span> production use<span class="token punctuation">;</span> at least one of <span class="token punctuation">[</span>discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes<span class="token punctuation">]</span> must be configured\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>解决：https://blog.csdn.net/weixin_44874132/article/details/120455954</p><h2 id="安装kibana" tabindex="-1"><a class="header-anchor" href="#安装kibana" aria-hidden="true">#</a> 安装Kibana</h2><blockquote><p>Kibana 是界面化的查询数据的工具，下载时尽量下载与 ElasicSearch 一致的版本。</p></blockquote><p>Kibana 是一个基于 Node.js 的 Elasticsearch 索引库数据统计工具，可以利用 Elasticsearch 的聚合功能，生成各种图表，如柱形图，线状图，饼图等。</p><p>而且还提供了操作 Elasticsearch 索引数据的控制台，并且提供了一定的 API 提示，非常有利于我们学习 Elasticsearch 的语法。</p><h3 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1" aria-hidden="true">#</a> 安装</h3><p>因为 Kibana 依赖于 node，我的虚拟机没有安装 node，而 windows 中安装过。所以我选择在 windows 下使用kibana。</p><p>与 elasticsearch 保持一致，也是 7.12.0</p><ul><li><strong>下载Kibana</strong></li></ul>',12),K=(0,e.Uk)("从"),B={href:"https://www.elastic.co/cn/downloads/kibana",target:"_blank",rel:"noopener noreferrer"},R=(0,e.Uk)("这里"),W=(0,e.Uk)("下载 Kibana，下载地址："),z=(0,e.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>https://artifacts.elastic.co/downloads/kibana/kibana-7.12.0-windows-x86_64.zip\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="配置运行" tabindex="-1"><a class="header-anchor" href="#配置运行" aria-hidden="true">#</a> 配置运行</h3><ul><li><strong>配置</strong></li></ul><p>进入安装目录下的 <code>config</code> 目录，修改 <code>kibana.yml</code> 文件：</p><p>修改 elasticsearch 服务器的地址：</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># ip需替换</span>\n<span class="token key atrule">elasticsearch.url</span><span class="token punctuation">:</span> <span class="token string">&quot;http://192.168.220.132:9200&quot;</span>\n<span class="token key atrule">elasticsearch.hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://192.168.220.132:9200&quot;</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>运行</strong></li></ul><p>进入安装目录下的 <code>bin</code> 目录，双击 <code>kibana.bat</code> 文件运行。kibana 的监听端口是 <strong>5601</strong>。</p>',8),T=(0,e.Uk)("访问："),A={href:"http://127.0.0.1:5601",target:"_blank",rel:"noopener noreferrer"},$=(0,e.Uk)("http://127.0.0.1:5601"),P=(0,e.uE)('<h3 id="控制台" tabindex="-1"><a class="header-anchor" href="#控制台" aria-hidden="true">#</a> 控制台</h3><p>选择 <em>DevTools</em> 菜单，即可进入控制台页面：</p><p><img src="//gcore.jsdelivr.net/gh/tiancixiong/atips@img-230529/images/database/nosql-elasticsearch/image-20211105180705406.png" alt="image-20211105180705406"></p><p><img src="//gcore.jsdelivr.net/gh/tiancixiong/atips@img-230529/images/database/nosql-elasticsearch/image-20211105180753465.png" alt="image-20211105180753465"></p><p>可以导入simple data：</p><p><img src="//gcore.jsdelivr.net/gh/tiancixiong/atips@img-230529/images/database/nosql-elasticsearch/image-20211105181104298.png" alt="image-20211105181104298"></p><p>控制台</p><p>需要切换至elasticsearch用户：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>也可以使用后台启动：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><strong>界面访问</strong></li></ul><p>访问地址：，ip需要修改。</p>',13),L={},N=(0,n(3744).Z)(L,[["render",function(a,s){const n=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[t,c,(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("a",l,[p,(0,e.Wm)(n)])]),(0,e._)("li",null,[(0,e._)("a",o,[i,(0,e.Wm)(n)])]),(0,e._)("li",null,[(0,e._)("a",r,[u,(0,e.Wm)(n)])]),(0,e._)("li",null,[(0,e._)("a",b,[m,(0,e.Wm)(n)])])]),d,(0,e._)("p",null,[h,(0,e._)("a",k,[g,(0,e.Wm)(n)]),v,(0,e._)("a",x,[E,(0,e.Wm)(n)]),w]),q,(0,e._)("ul",null,[(0,e._)("li",null,[f,(0,e._)("a",_,[j,(0,e.Wm)(n)]),y,S,U])]),C,(0,e._)("p",null,[K,(0,e._)("a",B,[R,(0,e.Wm)(n)]),W]),z,(0,e._)("p",null,[T,(0,e._)("a",A,[$,(0,e.Wm)(n)])]),P],64)}]])},3744:(a,s)=>{s.Z=(a,s)=>{for(const[n,e]of s)a[n]=e;return a}}}]);